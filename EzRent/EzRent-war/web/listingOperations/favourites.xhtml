<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/template/defaultTemplate.xhtml"
                xmlns:ez="http://xmlns.jcp.org/jsf/composite/ezcomp"
                xmlns:p="http://primefaces.org/ui">

    <style type="text/css">

    </style>   

    <ui:define name="content">

        <ez:Breadcrumb pageName="favourites" />


        <h:form id="formAllFavourites" >

            <p:commandButton
                type="Post"
                value="View #{favouritesManagedBean.viewListings == true ? 'Requests':'Listings'}"
                update="@form formAllFavourites"
                actionListener="#{favouritesManagedBean.toggleViewListings}"/>
            <br/>
            <br/>

            <div style="display: flex !important; flex-direction: row !important;">
                <ui:repeat value="#{favouritesManagedBean.favouriteListings}" var="listingEntity" rendered="#{favouritesManagedBean.viewListings == true}">
                    <div style="padding: 10px 20px;">
                        <ez:ListingSummary listingEntity="#{listingEntity}"/>
                    </div>
                </ui:repeat>

                <ui:repeat value="#{favouritesManagedBean.favouriteRequests}" var="requestEntity" rendered="#{favouritesManagedBean.viewListings == false}">
                    <div style="padding: 10px 20px;">
                        <ez:Request requestEntity="#{requestEntity}"/>
                    </div>
                </ui:repeat>
            </div>
        </h:form>

        <br/>

        <h2 style="margin-left: 40%;">
            That's all the favourites for now! :)        
        </h2>    

    </ui:define>
</ui:composition>