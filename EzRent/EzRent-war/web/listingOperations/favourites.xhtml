<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                template="/template/defaultTemplate.xhtml"
                xmlns:ez="http://xmlns.jcp.org/jsf/composite/ezcomp"
                xmlns:p="http://primefaces.org/ui">

    <style type="text/css">

    </style>   

    <ui:define name="content">

        <ez:Breadcrumb pageName="favourites" />

        <div>
            <h:form id="formAllFavourites" style="display: flex !important; flex-direction: row !important;">
                <p:commandButton
                    type="Post"
                    value="View #{favouritesManagedBean.viewListings == true ? 'Requests':'Listings'}"
                    update="@form formAllFavourites"
                    actionListener="#{favouritesManagedBean.toggleViewListings}"/>
                <br/>
                <br/>

                <ui:repeat value="#{favouritesManagedBean.favouriteListings}" var="listingEntity">
                    <div style="padding: 10px 20px;">
                        <ez:ListingSummary listingEntity="#{listingEntity}"/>
                    </div>
                </ui:repeat>

                <!--Insert requests here-->
            </h:form>

            <h2 style="margin-left: 40%;">
                <br/>
                <h:outputText rendered="#{favouritesManagedBean.viewListings == true}" value="Oops..no more listings! :)"/>
                <h:outputText rendered="#{favouritesManagedBean.viewListings == false}" value="Oops..no more requests! :)"/>
            </h2>    
        </div>

    </ui:define>
</ui:composition>